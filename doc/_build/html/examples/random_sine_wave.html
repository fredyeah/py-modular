

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>1. How to create a sine wave with random pitch oscillation &mdash; py-modular  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="2. How to create a basic kick drum with pitch and gain envelopes" href="simple_kick_drum.html" />
    <link rel="prev" title="Examples" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> py-modular
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../api.html">API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Examples</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">1. How to create a sine wave with random pitch oscillation</a></li>
<li class="toctree-l2"><a class="reference internal" href="simple_kick_drum.html">2. How to create a basic kick drum with pitch and gain envelopes</a></li>
<li class="toctree-l2"><a class="reference internal" href="sequence_and_ping_sound.html">3. Create a ping sound with multiple fm controls</a></li>
<li class="toctree-l2"><a class="reference internal" href="multi_delay.html">4. Using more effects and programmatic sound system creation</a></li>
<li class="toctree-l2"><a class="reference internal" href="record_audio.html">5. Recording audio to a .wav file</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">py-modular</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Examples</a> &raquo;</li>
        
      <li><span class="section-number">1. </span>How to create a sine wave with random pitch oscillation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/examples/random_sine_wave.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="how-to-create-a-sine-wave-with-random-pitch-oscillation">
<h1><span class="section-number">1. </span>How to create a sine wave with random pitch oscillation<a class="headerlink" href="#how-to-create-a-sine-wave-with-random-pitch-oscillation" title="Permalink to this headline">¶</a></h1>
<p>First, import the proper oscillators and the <cite>GlobalTransport</cite> class which will hold everything together.
You can think of the <cite>GlobalTransport</cite> as a DAW session if you will.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">py_modular.sound.oscillators</span> <span class="kn">import</span> <span class="n">Sine</span><span class="p">,</span> <span class="n">Random</span>
<span class="kn">from</span> <span class="nn">py_modular.time.transport</span> <span class="kn">import</span> <span class="n">GlobalTransport</span>
</pre></div>
</div>
<p>With <cite>py-modular</cite>, we generally start with control signals, and work our way down through oscillators, effects, and finally audio output.
Since we want our sine wave to change its pitch randomly, we will start with a random control signal.
We will use the <cite>Random</cite> oscillator for this.
In <cite>py-modular</cite>, oscillators should output between -1.0 and 1.0.
We are using the random oscillator as a control signal for another oscillator’s frequency in Hz so we will want to make the gain larger.
A gain of 50.0 will give us a range of -50.0 to 50.0 Hz.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Generally, a negative frequency will translate to a wave inversion.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">random_oscillator</span> <span class="o">=</span> <span class="n">Random</span><span class="p">(</span><span class="n">freq</span><span class="o">=</span><span class="mf">1.1</span><span class="p">,</span> <span class="n">gain</span><span class="o">=</span><span class="mf">50.0</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
<p>Next, we will initialize the sine oscillator which will be the actual source of sound in the final product.
The frequency does not matter much in this situation, as we will be constantly changing it to random values.
We will leave the gain at 0.85 to allow a bit of headroom. 1.0 is generally very loud for gain.
Lastly, we include the random oscillator as an fmct list element.
This basically just says “we want the output of the random oscillator to control the frequency of the sine oscillator”</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sine_oscillator</span> <span class="o">=</span> <span class="n">Sine</span><span class="p">(</span><span class="n">gain</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span> <span class="n">fmct</span><span class="o">=</span><span class="p">[</span><span class="n">random_oscillator</span><span class="p">])</span>
</pre></div>
</div>
<p>Now we will create a global transport, which we said earlier can be thought of as a DAW session.
We will initialize the transport with default values, which will create two channels for us.
We can use the <cite>add_node</cite> method to add sounds to each channel.
This just adds the sine wave we created to the left and right channels, or channels 0 and 1.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">global_transport</span> <span class="o">=</span> <span class="n">GlobalTransport</span><span class="p">([])</span>
<span class="n">global_transport</span><span class="o">.</span><span class="n">chs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">sine_oscillator</span><span class="p">)</span>
<span class="n">global_transport</span><span class="o">.</span><span class="n">chs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">sine_oscillator</span><span class="p">)</span>
</pre></div>
</div>
<p>Finally we call the <cite>start</cite> method of the transport, which will begin an audio processing thread.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">global_transport</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
<p>Try running the script with <cite>python random_sine_wave.py</cite>, you should hear a sine wave changing smoothly in pitch.</p>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="simple_kick_drum.html" class="btn btn-neutral float-right" title="2. How to create a basic kick drum with pitch and gain envelopes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="Examples" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, fredyeah.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>