
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>1. How to create a sine wave with random pitch oscillation &#8212; py-modular  documentation</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="2. How to create a basic kick drum with pitch and gain envelopes" href="simple_kick_drum.html" />
    <link rel="prev" title="Examples" href="index.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    
<a class="navbar-brand" href="../index.html">
<p class="title">py-modular</p>
</a>

    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../api.html">
  API
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="index.html">
  Examples
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   1. How to create a sine wave with random pitch oscillation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="simple_kick_drum.html">
   2. How to create a basic kick drum with pitch and gain envelopes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="sequence_and_ping_sound.html">
   3. Create a ping sound with multiple fm controls
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="multi_delay.html">
   4. Using more effects and programmatic sound system creation
  </a>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                

<nav id="bd-toc-nav">
    
</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="how-to-create-a-sine-wave-with-random-pitch-oscillation">
<h1><span class="section-number">1. </span>How to create a sine wave with random pitch oscillation<a class="headerlink" href="#how-to-create-a-sine-wave-with-random-pitch-oscillation" title="Permalink to this headline">¶</a></h1>
<p>First, import the proper oscillators and the <cite>GlobalTransport</cite> class which will hold everything together.
You can think of the <cite>GlobalTransport</cite> as a DAW session if you will.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">py_modular.sound.oscillators</span> <span class="kn">import</span> <span class="n">Sine</span><span class="p">,</span> <span class="n">Random</span>
<span class="kn">from</span> <span class="nn">py_modular.time.transport</span> <span class="kn">import</span> <span class="n">GlobalTransport</span>
</pre></div>
</div>
<p>With <cite>py-modular</cite>, we generally start with control signals, and work our way down through oscillators, effects, and finally audio output.
Since we want our sine wave to change its pitch randomly, we will start with a random control signal.
We will use the <cite>Random</cite> oscillator for this.
In <cite>py-modular</cite>, oscillators should output between -1.0 and 1.0.
We are using the random oscillator as a control signal for another oscillator’s frequency in Hz so we will want to make the gain larger.
A gain of 50.0 will give us a range of -50.0 to 50.0 Hz.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Generally, a negative frequency will translate to a wave inversion.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">random_oscillator</span> <span class="o">=</span> <span class="n">Random</span><span class="p">(</span><span class="n">freq</span><span class="o">=</span><span class="mf">1.1</span><span class="p">,</span> <span class="n">gain</span><span class="o">=</span><span class="mf">50.0</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
<p>Next, we will initialize the sine oscillator which will be the actual source of sound in the final product.
The frequency does not matter much in this situation, as we will be constantly changing it to random values.
We will leave the gain at 0.85 to allow a bit of headroom. 1.0 is generally very loud for gain.
Lastly, we include the random oscillator as an fmct list element.
This basically just says “we want the output of the random oscillator to control the frequency of the sine oscillator”</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sine_oscillator</span> <span class="o">=</span> <span class="n">Sine</span><span class="p">(</span><span class="n">gain</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span> <span class="n">fmct</span><span class="o">=</span><span class="p">[</span><span class="n">random_oscillator</span><span class="p">])</span>
</pre></div>
</div>
<p>Now we will create a global transport, which we said earlier can be thought of as a DAW session.
We will initialize the transport with default values, which will create two channels for us.
We can use the <cite>add_node</cite> method to add sounds to each channel.
This just adds the sine wave we created to the left and right channels, or channels 0 and 1.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">global_transport</span> <span class="o">=</span> <span class="n">GlobalTransport</span><span class="p">([])</span>
<span class="n">global_transport</span><span class="o">.</span><span class="n">chs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">sine_oscillator</span><span class="p">)</span>
<span class="n">global_transport</span><span class="o">.</span><span class="n">chs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">sine_oscillator</span><span class="p">)</span>
</pre></div>
</div>
<p>Finally we call the <cite>start</cite> method of the transport, which will begin an audio processing thread.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">global_transport</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
<p>Try running the script with <cite>python random_sine_wave.py</cite>, you should hear a sine wave changing smoothly in pitch.</p>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="index.html" title="previous page">Examples</a>
    <a class='right-next' id="next-link" href="simple_kick_drum.html" title="next page"><span class="section-number">2. </span>How to create a basic kick drum with pitch and gain envelopes</a>

              </div>
              
          </main>
          

      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2021, fredyeah.<br/>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.5.4.<br/>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>